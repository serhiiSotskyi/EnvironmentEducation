{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta tags for character set and viewport -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Title of the page -->
    <title>Environmental Project</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Web font to ensure non-italic cursive fallback on mobile -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <!-- Custom CSS file -->
    <link rel="stylesheet" href="{% static "main/style.css" %}">
    <!-- Animate.css for animations -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <!-- Additional CSS files specified in the child templates -->
    {% block extraCSS %}
    {% endblock %}
</head>
<body>

    <!-- JavaScript for fun header animation -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            animateHeader();
        });

        function animateHeader() {
            const headerText = document.querySelector('header h1');
            headerText.classList.add('animate__animated', 'animate__bounce');

            // Remove the animation classes after the animation is complete
            headerText.addEventListener('animationend', function() {
                headerText.classList.remove('animate__animated', 'animate__bounce');
            });
        }
    </script>

    <!-- Header section with navigation -->
    <header class="text-center py-5">
        <div class="container">
            <h1>Environmental Education for Children</h1>

            <!-- Responsive Navigation -->
            <nav class="mt-4">
                <div class="navbar navbar-expand-lg navbar-light">

                    <!-- Toggle button for small devices -->
                    <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse justify-content-center" id="navbarNav">

                        <!-- Navigation links -->
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'main:index' %}">About Us</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'educationalMaterials:index' %}">Educational Materials</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'creativeTask:index' %}">Creative Tasks</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'quiz:quiz_list' %}">Quiz</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'blog:article_list' %}">Blog</a>
                            </li>
                            {% if user.is_authenticated %}
                                <!-- Show logout link if user is authenticated -->
                                <li class="nav-item">
                                    <a class="nav-link" href="{% url 'log:logout_user' %}">Logout</a>
                                </li>
                            {% else %}
                                <!-- Show login link if user is not authenticated -->
                                <li class="nav-item">
                                    <a class="nav-link" href="{% url 'log:logIn_user' %}">Login</a>
                                </li>
                            {% endif %}
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Display messages to the user -->
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}

    <!-- Body content specified in child templates -->
    {% block body %}
    {% endblock %}

    <!-- Footer section -->
    <footer class="text-white text-center py-3">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="{% url 'main:index' %}">About Us</a></li>
                        <li><a href="{% url 'educationalMaterials:index' %}">Educational Materials</a></li>
                        <li><a href="{% url 'main:index' %}#contact">Contact Us</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Contact Information</h5>
                    <p>123 Green Street</p>
                    <p>Cityville, Earth</p>
                    <p>Email: info@environmentaleducation.com</p>
                    <p>Phone: +1 (123) 456-7890</p>
                </div>
                <div class="col-md-4">
                    <h5>Legal</h5>
                    <ul class="list-unstyled">
                        <li><a href="{% url 'legal:privacy_policy' %}">Privacy Policy</a></li>
                        <li><a href="{% url 'legal:terms_of_use' %}">Terms of Use</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <p>&copy; 2024 Environmental Education Project</p>
    </footer>

    <!-- "Back to Top" button -->
    <button id="backToTopBtn" title="Go to top">â†‘</button>

    <!-- JavaScript libraries and scripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
    <!-- Additional JavaScript files specified in the child templates -->
    {% block extraScript %}
    {% endblock %}

</body>
</html>
